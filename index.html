<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='reset.css'>
    
</head>
<body>
    <section id="header">
        <ul class="menu">
            <li class="reset"> RESET THE GRID </li>
            <li class="sizing"> RESIZE THE GRID</li>
            <li class="rgb"> RANDOM RGB COLORS</li>
            <li class="fade2black"> FADE TO BLACK</li>
            <li class="snake"> MOUSE TRAIL</li>
        </ul>
    </section>

    <section id="content">
        <div id="mother">
        
        </div>
    </section>

    <section id="footer">
        <ul class = "menu">
            <li> <a href="https://www.theodinproject.com/courses/web-development-101/lessons/etch-a-sketch-project?ref=lnav">This exercise is part of The Odin Project Curriculum </a></li>
            <li> <a href="https://github.com/lghiggino"> My other projects</a></li>
        </ul>
    </section>

    <script>
        //INITIALIZATIONS
        const resetButton = document.querySelector("reset");
        const resizeButton = document.querySelector("sizing");
        const rgbButton = document.querySelector("rgb");
        const fadeButton = document.querySelector("fade2black");
        const snakeButton = document.querySelector("snake");

        let squareSide = 16;
        let squared = squareSide**2;
        const mother = document.querySelector("#mother");
        createGrid(squareSide);
        base();

        //MOUSE EVENTS
        resetButton.addEventListener("click", reseter);
        resizeButton.addEventListener("click", resizer);
        rgbButton.addEventListener("click", colorer);
        fadeButton.addEventListener("click", fader);
        snakeButton.addEventListener("click", snaker);
            
        //FUNCTIONS
        function createGrid(){
            for (i = 0; i < squared; i++){
                const div = document.createElement("div");
                div.classList.add("default");
                mother.style.gridTemplateColumns = `repeat(${squareSide}, 1fr)`;
                mother.appendChild(div);
            }
        }

        function base (){
            div.addEventListener("mouseenter", changeColor)};
            
        function changeColor(event){
            event.target.classList.add("changed");
            event.target.classList.remove("default");
        }
         
        function reseter(){
            div.classList.add("default");
            div.classList.remove("changed");
        }

        function resizer(){
            squareSide = prompt("How many squares per side on your grid?", "16");
            if (squareSide < 0 || squareSide === "" || isNaN(squareSide) || squareSide === undefined){
                alert("You must choose a positive integer");
                squareSide = prompt("How many squares per side on your grid?", "16");
            }
        }

        function colorer(){
            // A CADA EVENT MOUSEENTER RECALCULAR OS VALORES DE R, G e B
            let r = Math.floor(Math.random()*256);
            let g = Math.floor(Math.random()*256);
            let b = Math.floor(Math.random()*256);
            div.style.color = `rgb(${r}, ${g}, ${b})`; 
        }

        function fader(){}
            //ADICIONAR ALPHA + 0.1 
            // RGBA (255,255,255, +ALPHA)
            //VER A NOTAÇÃO CORRETA DE RGBA

        function snaker(){
            /*div.addEventListener("mouseleave", resetColor);
            function resetColor(event){
                event.target.classList.add("default");
                event.target.classList.remove("changed");
            }*/ 
        }
    
        /* function base (){
            div.addEventListener("mouseenter", changeColor);
            function changeColor(event){
                event.target.classList.add("changed");
                event.target.classList.remove("default");
            }
        }  //POR QUE SE EU TIRAR ISSO DO LOOP PARA DE FUNCIONAR?*/

    </script>

    <style>

        html{
            box-sizing: border-box;
            }
        .header{
            margin-top: 0px;
            min-width: 100vw;
            min-height: 3em;
            position: fixed;
        }

        .menu{
            background-color: black;
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
        }

        .menu>li{
            background-color:slategray;
            color: whitesmoke;
            display: inline-block;
            margin: 1em;

        }

        #content{
            background-color: black;
            min-height: 1vh;
            min-width: 1vw;
        }

        #mother{
            background-color: red;
            display: grid;
            height: 800px;
            width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .default{
            background-color: whitesmoke;
            display: block;
            transition: all 0.7s;
        }

        .changed{
            background-color: black;
            display: block;
        }

        .footer{

        }

        .footer>ul{
            display: flex;
            margin-bottom: 0px;
        }

        
    </style>
</body>
</html>
