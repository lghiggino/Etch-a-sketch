<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='reset.css'>
    
</head>
<body>
    <section id="header">
        <ul class="menu">
            <li class="reset"> RESET THE GRID </li>
            <li class="sizing"> RESIZE THE GRID</li>
            <li class="rgb"> RANDOM RGB COLORS</li>
            <li class="fade2black"> FADE TO BLACK</li>
        </ul>
    </section>

    <section id="content">
        <div id="mother"></div>
    </section>

    <section id="footer">
        <ul class = "menu">
            <li> <a href="https://www.theodinproject.com/courses/web-development-101/lessons/etch-a-sketch-project?ref=lnav">This exercise is part of The Odin Project Curriculum </a></li>
            <li> <a href="https://github.com/lghiggino"> My other projects</a></li>
        </ul>
    </section>

    <script>
        //INITIALIZATIONS
        const resetButton = document.querySelector(".reset");
        const resizeButton = document.querySelector(".sizing");
        const rgbButton = document.querySelector(".rgb");
        const fadeButton = document.querySelector(".fade2black");
        
        const mother = document.querySelector("#mother");
       
        //MOUSE EVENTS
        resetButton.addEventListener("click", reseter);
        resizeButton.addEventListener("click", resizer);
        rgbButton.addEventListener("click", randomRGB);
        fadeButton.addEventListener("click", fader);
       
            
        //FUNCTIONS
        function createGrid(squareSide){
            mother.style.gridTemplateColumns = `repeat(${squareSide}, 1fr)`;
            mother.style.gridTemplateRows = `repeat(${squareSide}, 1fr)`;
            let squared = squareSide**2
            for (i = 0; i < squared; i++){
                const box = document.createElement("div");
                box.classList.add("default");
                box.addEventListener("mouseenter", changeColor);
                box.style.backgroundColor = "whitesmoke";
                mother.appendChild(box);
            }
        }
            
        function changeColor(event){
            let currentBackgroundColor = window.getComputedStyle(event.target)["backgroudn-color"];
            switch(drawingStyle){
                case "random":
                event.target.style.backgroundColor = randomRGB();
                break;
                case "shade":
                event.target.style.backgroundColor = rgbShader(0.8, currentBackgroundColor);
                break;
                default:
                event.target.style.backgroundColor = "black";
            }
        }
         
        function reseter(){
            let box = document.querySelectorAll(".default");
            box.forEach(function(element) {
                element.style.backgroundColor = "whitesmoke";
            });
        }

        function resizer(){
            squareSide = prompt("How many squares per side on your grid? Max 100", "16");
            if (squareSide > 100){
                squareSide = 100;
            } else if (squareSide <= 0){
                squareSide = 16;
                alert("aren't you silly?  hummm...")
            } else if (isNaN(squareSide)){
                squareSide = 16;
                alert("aren't you silly?  hummm...")
            }
            while(mother.hasChildNodes()){
                mother.removeChild(mother.firstChild);
            }
            createGrid(squareSide);
        }

        function randomRGB(){
            let r = Math.floor(Math.random()*256);
            let g = Math.floor(Math.random()*256);
            let b = Math.floor(Math.random()*256);
            return `rgb(${r}, ${g}, ${b})`; 
        }

        function fader(){}
            //ADICIONAR ALPHA + 0.1 
            // RGBA (255,255,255, +ALPHA)
            //VER A NOTAÇÃO CORRETA DE RGBA

        let squareSide = 16;
        let drawingStyle = "black"
        createGrid(squareSide);
        let children = document.querySelectorAll(".default");
        
    
    </script>

    <style>

        html{
            box-sizing: border-box;
            }
        .header{
            margin-top: 0px;
            min-width: 100vw;
            min-height: 3em;
            position: fixed;
        }

        .menu{
            background-color: black;
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
        }

        .menu>li{
            background-color:slategray;
            color: whitesmoke;
            display: inline-block;
            margin: 1em;

        }

        #content{
            background-color: black;
            min-height: 1vh;
            min-width: 1vw;
        }

        #mother{
            background-color: red;
            display: grid;
            height: 800px;
            width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .default{
            display: block;
            transition: all 0.1qs;
        }

        .changed{
            background-color: black;
            display: block;
        }

        .footer{

        }

        .footer>ul{
            display: flex;
            margin-bottom: 0px;
        }

        
    </style>

<!--<script src=""></script>
<style src=""></style>-->
</body>
</html>
